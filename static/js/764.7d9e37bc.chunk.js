"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[764],{764:function(e,t,n){n.r(t);var r=n(439),a=n(791),o=n(689),c=n(87),i=n(184);t.default=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],u=t[1],l=(0,a.useState)([]),s=(0,r.Z)(l,2),h=s[0],f=s[1],d=(0,o.s0)(),m=(0,c.lr)(),p=(0,r.Z)(m,2),j=p[0],g=p[1],I=j.get("query");console.log(I);return(0,a.useEffect)((function(){var e=localStorage.getItem("searchResult");e&&f(JSON.parse(e))}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:function(){return d("/")},children:"Go back"}),(0,i.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===n.trim())throw new Error("Search query is empty");fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(encodeURIComponent(n)),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYWNiZTlkZTY0MTI4OTM1OTE2YWUzNzRkMGNkNjA3NyIsInN1YiI6IjY0OTRhMDg4MzkxYjljMDBlODFiYTQzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.iTONktEdz4gCVm1GJD3NRI0zRCn5BZSM2hjCzfl__jc"}}).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return{title:e.title,id:e.id}}));f(t),localStorage.setItem("searchResult",JSON.stringify(t))})).catch((function(e){return console.error(e)}))},children:[(0,i.jsx)("input",{onChange:function(e){u(e.currentTarget.value.toLowerCase());var t=""!==e.target.value?{query:e.target.value}:{};g(t)},value:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}),(0,i.jsx)("button",{type:"submit",children:(0,i.jsx)("span",{className:"button-label",children:"Search"})})]}),(0,i.jsx)("ul",{children:h.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(c.rU,{to:"/movie/".concat(e.id),children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=764.7d9e37bc.chunk.js.map